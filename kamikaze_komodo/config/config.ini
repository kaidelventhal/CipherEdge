# kamikaze_komodo/config/config.ini

[General]
LogLevel = INFO
LogFilePath = logs/kamikaze_komodo.log
RunMode = backtest

[API]
ExchangeID = krakenfutures
KrakenTestnet = True

[DataFetching]
DefaultSymbol = PF_XBTUSD
DefaultTimeframe = 4h
HistoricalDataDays = 730 
DataFetchLimitPerCall = 500

[Trading]
CommissionBPS = 10
SlippageBPS = 2

# --- PORTFOLIO CONFIGURATION ---
# This section defines the overall portfolio for the main backtest run.
[Portfolio]
# We are focusing the universe on the single asset we optimized.
TradingUniverse = PF_XBTUSD
# We are activating only the single best strategy found by the optimizer.
ActiveStrategies = EhlersInstantaneousTrendline_Strategy
# For a single asset, HRP falls back to 100% allocation, which is what we want.
AssetAllocator = HRPAllocator
Rebalancer = BasicRebalancer
EnableRegimeFilter = False

[Backtesting]
InitialCapital = 10000.0


# === STRATEGY-SPECIFIC PARAMETERS ===

# --- This is the winning strategy with its optimized parameter ---
[EhlersInstantaneousTrendline_Strategy]
it_lag_trigger = 2
atr_period = 14
EnableShorting = True


# === RISK MANAGEMENT PARAMETERS ===

[RiskManagement]
# This defines the DEFAULT Stop Manager to use.
StopManager_Default = TripleBarrier

# --- This is the dedicated section for the TripleBarrier Stop Manager ---
# --- The program will now correctly load these optimized values. ---
[TripleBarrier]
TripleBarrier_TP_Multiple = 2.0
TripleBarrier_SL_Multiple = 2.0
TripleBarrier_Time_Limit_Bars = 20


# --- Other sections are kept for reference ---

[Rebalancer]
Rebalancer_Min_Order_Value_USD = 10.0

[BacktestingPerformance]
RiskFreeRateAnnual = 0.02
AnnualizationFactor = 252

[EWMAC_Strategy]
ShortWindow = 12
LongWindow = 26
EnableShorting = True

[FundingRateArb_Strategy]
entry_threshold = 0.0001
exit_threshold = 0.00005
EnableShorting = True

[MLForecaster_Strategy]
longconfidencethreshold = 0.55
shortconfidencethreshold = 0.55
atr_period = 14
EnableShorting = True

[KMeans_Regime_Model]
Num_Clusters = 3
FeaturesForClustering = volatility_20d, atr_14d_percentage
TrainingDaysHistory = 1095
ModelSavePath = ml_models/trained_models
ModelFileName = kmeans_regime_PF_XBTUSD_4h.joblib

[AI_NewsAnalysis]
EnableSentimentAnalysis = False
SimulatedSentimentDataPath = kamikaze_komodo/data/simulated_sentiment_data.csv

[VertexAI]
ProjectID = kamikazekomodo
Location = us-central1